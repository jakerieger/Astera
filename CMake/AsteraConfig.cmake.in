@PACKAGE_INIT@

# Astera CMake Configuration File
# This file is used by find_package(Astera) to import targets

include(CMakeFindDependencyMacro)

# Find required dependencies
find_dependency(fmt REQUIRED)
find_dependency(pugixml REQUIRED)
find_dependency(spdlog REQUIRED)
find_dependency(CLI11 REQUIRED)
find_dependency(PkgConfig REQUIRED)

pkg_check_modules(LUAJIT REQUIRED luajit)
pkg_check_modules(GLFW REQUIRED glfw3)

# Define the EngineContent path for users of the package
set(ASTERA_CONTENT_DIR "${PACKAGE_PREFIX_DIR}/@CMAKE_INSTALL_DATADIR@/Astera/EngineContent")
set(ASTERA_INCLUDE_DIR "${PACKAGE_PREFIX_DIR}/@CMAKE_INSTALL_INCLUDEDIR@/Astera")

# Include the exported targets
include("${CMAKE_CURRENT_LIST_DIR}/AsteraTargets.cmake")

# Provide information about available components
set(Astera_FOUND TRUE)
set(Astera_VERSION @PROJECT_VERSION@)

# Check which components are available
check_required_components(Astera)

# Print usage information
if(NOT Astera_FIND_QUIETLY)
    message(STATUS "Found Astera: ${Astera_VERSION}")
    message(STATUS "  Include directory: ${ASTERA_INCLUDE_DIR}")
    message(STATUS "  Engine content: ${ASTERA_CONTENT_DIR}")
    message(STATUS "  Available targets:")
    message(STATUS "    - Astera::Shared    (shared library)")
    message(STATUS "    - Astera::Static    (static library)")
    message(STATUS "    - Astera::Astera (shared library)")
endif()